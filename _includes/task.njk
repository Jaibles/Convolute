<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      {% block title %}App{% endblock %}
    </title>
    <meta charset="UTF-8"/>
    {% if description %}
      <meta name="description" content="{{description}}"/>
    {% endif %}
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"/>
    <link rel="stylesheet" href="/style.css?v={% version %}"/>
    {% block head %}{% endblock %}
    <script src="/js/alpine.js?v={% version %}"></script>
  </head>
  <body>
    <div class="h-screen flex overflow-hidden bg-white" x-data="{open:false}">
      <div class="" x-show="open">

        <div class="fixed inset-0 flex z-40">
          <div class="fixed inset-0">
            <div class="absolute inset-0 bg-gray-600 opacity-75"></div>
          </div>
          <div tabindex="0" class="relative flex-1 flex flex-col max-w-xs w-full bg-white focus:outline-none">
            <div class="absolute top-0 right-0 -mr-12 pt-2">
              <button @click="open = false" type="button" class="ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                <span class="sr-only">Close sidebar</span>
                <!-- Heroicon name: x -->
                <svg class="h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            <div class="flex-1 h-0 pt-5 pb-4 overflow-y-auto">
              <div class="flex justify-start lg:w-0 lg:flex-1 ml-2">
                <a href="/app">
                  <span class="sr-only">Convolute</span>
                  <img class="w-auto h-8" src="/src/images/convolute-logo.svg" alt="Convolute logo">
                </a>
              </div>
              <nav aria-label="Sidebar" class="mt-5">
                <div class="px-2 space-y-1">
                  <a href="/app" class="{{ 'bg-gray-100 text-black' if '/app' in page.url }} hover:bg-gray-200 text-gray-900 group flex items-center px-2 py-2 text-base font-medium rounded-md">
                    <svg class="text-gray-800 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    Dashboard
                  </a>

                  <a href="/tasks/task1" class="{{ 'bg-gray-200 text-black hover:bg-gray-200' if '/tasks' in page.url }} hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium rounded-md">
                    <svg class="text-gray-800 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    Envelope Scans
                  </a>

                  <a href="#" class="text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium rounded-md">
                    <svg class="text-gray-700 group-hover:text-gray-700 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    Image processing
                  </a>
                </div>
              </nav>
            </div>
            <div class="flex-shrink-0 flex border-t border-gray-200 p-4">
              <a href="/" class="flex-shrink-0 group block">
                <div class="flex items-center">
                  <div>
                    <svg class="w-8 h-8 text-black" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div class="ml-3">
                    <p class="text-sm font-medium text-gray-900 group-hover:text-gray-100">
                      Jonathan Siegel
                    </p>
                    <p class="text-xs font-medium text-gray-800 group-hover:text-gray-200">
                      jonathan@convolute.jp
                    </p>
                  </div>
                </div>
              </a>
            </div>
          </div>
          <div class="flex-shrink-0 w-14" aria-hidden="true">
            <!-- Force sidebar to shrink to fit close icon -->
          </div>
        </div>
      </div>

      <!-- Static sidebar for desktop -->
      <div class="hidden lg:flex lg:flex-shrink-0">
        <div class="flex flex-col w-56">
          <div class="flex flex-col h-0 flex-1 bg-black">
            <div class="flex-1 flex flex-col pt-5 pb-4 overflow-y-auto">
              <div class="flex items-center flex-shrink-0 px-4">
                <svg width="128" height="32" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19.4 21l-4 7M6 9.5l4 6.9m8.8-5.9a2.7 2.7 0 11-5.4 0 2.7 2.7 0 015.4 0zm0 0h8M16 4a12 12 0 110 24 12 12 0 010-24zm-2 14.7a2.7 2.7 0 11-5.4 0 2.7 2.7 0 015.3 0zm9.4 0a2.7 2.7 0 11-5.3 0 2.7 2.7 0 015.3 0z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M47.1 18.7h2.5c-.1 1.1-.5 2-1.3 2.6-.7.6-1.7.9-3 .9s-2.4-.5-3.3-1.4a5 5 0 01-1.3-3.6 5 5 0 011.3-3.5c.9-1 2-1.4 3.3-1.4 1.3 0 2.3.3 3 .9.8.6 1.2 1.5 1.3 2.6H47c-.2-1-.7-1.5-1.7-1.5h-.2c-.4 0-.8.1-1.1.4l-.7 1-.2 1.6c0 .5 0 1 .2 1.4.2.5.4.8.7 1 .3.4.7.5 1.1.5h.2c1 0 1.5-.5 1.7-1.5zM59.1 20.8c-.8 1-2 1.4-3.4 1.4s-2.5-.5-3.4-1.4a5 5 0 01-1.3-3.6 5 5 0 011.3-3.5c.9-1 2-1.4 3.4-1.4s2.6.5 3.4 1.4a5 5 0 011.4 3.6 5 5 0 01-1.4 3.5zm-3.3-.6c.7 0 1.2-.3 1.6-.8.4-.5.6-1.2.6-2.1 0-1-.2-1.7-.6-2.2-.4-.5-1-.8-1.6-.8h-.2c-.6 0-1.2.3-1.6.8-.3.5-.5 1.2-.5 2.2 0 .9.2 1.6.5 2.1.4.5 1 .8 1.6.8h.2zM65 16.7V22h-2.5v-9.5h2.4v1.4c.3-.5.7-.9 1.2-1.2.5-.2 1.1-.4 1.7-.4 1.1 0 2 .3 2.5 1s.8 1.5.8 2.6V22h-2.5v-5.8c0-.6 0-1-.4-1.4-.2-.3-.6-.5-1-.5H67c-.6 0-1 .2-1.5.7-.4.5-.6 1-.6 1.7zM79.2 22h-3.5l-3.3-9.5H75l2.5 7.7 2.5-7.7h2.5L79.2 22zM91.4 20.8c-.9 1-2 1.4-3.4 1.4s-2.6-.5-3.5-1.4a5 5 0 01-1.3-3.6 5 5 0 011.3-3.5c1-1 2-1.4 3.5-1.4 1.4 0 2.5.5 3.4 1.4a5 5 0 011.3 3.6 5 5 0 01-1.3 3.5zm-3.4-.6c.7 0 1.2-.3 1.6-.8.4-.5.6-1.2.6-2.1 0-1-.2-1.7-.6-2.2-.4-.5-.9-.8-1.6-.8H88c-.7 0-1.2.3-1.6.8-.4.5-.6 1.2-.6 2.2 0 .9.2 1.6.6 2.1.4.5 1 .8 1.6.8h.1zM94.7 22V8.7h2.5V22h-2.5zM105.6 17.8v-5.3h2.5V22h-2.5v-1.4a3.3 3.3 0 01-2.7 1.6c-1.1 0-2-.3-2.5-1a4 4 0 01-.8-2.6v-6.1h2.5v5.8c0 .6.1 1 .4 1.4.2.3.6.5 1 .5h.2c.5 0 1-.2 1.4-.7.3-.5.5-1 .5-1.7zM116.5 20v2h-2.4c-.8 0-1.4-.2-1.8-.6-.4-.5-.6-1-.6-1.9v-5h-2v-2h2v-3h2.4v3h2.2v2H114v4.4c0 .4 0 .7.2.8.2.1.4.2.9.2h1.3zM126.6 19a4 4 0 01-1.5 2.3c-.7.6-1.7.9-2.8.9a4.5 4.5 0 01-3.2-1.3c-.4-.4-.7-1-1-1.6-.2-.6-.3-1.3-.3-2 0-1.5.4-2.7 1.2-3.6.8-1 1.9-1.4 3.3-1.4a4 4 0 013.2 1.4c.7.9 1.1 2 1.1 3.4v1h-6.4c0 .6.2 1 .7 1.5.4.4.9.6 1.4.6h.1c.5 0 .9-.1 1.2-.3l.5-1h2.5zm-4.5-4.7a2 2 0 00-1.3.5c-.4.3-.6.8-.6 1.3h4c0-.5-.2-1-.6-1.3a2 2 0 00-1.4-.5z" fill="#ffffff"/>
                </svg>
              </div>
              <nav class="mt-5 flex-1" aria-label="Sidebar">
                <div class="px-2">
                  <a href="/app" class="{{ 'bg-gray-900 text-white' if '/app' in page.url }} hover:bg-gray-800 text-gray-200 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                    <svg class="text-gray-300 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    <span class="mt-0.5">Dashboard</span>
                  </a>

                  <div class="mt-8 mb-2 ml-2">
                    <h6 class="text-gray-700 text-xs font-bold uppercase">Projects</h6>
                  </div>
                  <a href="/tasks/task1" class="{{ 'bg-gray-900 text-white hover:bg-gray-800' if '/tasks' in page.url }} hover:bg-gray-900 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                    <svg class="text-gray-300 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    <span class="mt-0.5">Envelope Scans</span>
                  </a>

                  <a href="#" class="text-gray-700 hover:text-gray-700 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                    <svg class="text-gray-700 group-hover:text-gray-700 mr-3 h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    <span class="mt-0.5">Image processing</span>
                  </a>
                </div>
              </nav>
            </div>
            <div class="flex-shrink-0 flex border-t border-gray-900 p-4">
              <a href="/" class="flex-shrink-0 w-full group block">
                <div class="flex items-center">
                  <div>
                    <svg class="w-8 h-8 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div class="ml-3">
                    <p class="text-sm font-medium text-gray-200 group-hover:text-gray-100">
                      Jonathan Siegel
                    </p>
                    <p class="text-xs font-medium text-gray-300 group-hover:text-gray-200">
                      jonathan@convolute.jp
                    </p>
                  </div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="flex flex-col min-w-0 flex-1 overflow-hidden">
        <div class="lg:hidden">
          <div class="flex items-center justify-between bg-gray-50 border-b border-gray-200 px-4 py-1.5">
            <div class="flex justify-start lg:w-0 lg:flex-1">
              <a href="/app">
                <span class="sr-only">Convolute</span>
                <img class="w-auto h-8" src="/src/images/convolute-logo.svg" alt="Convolute logo">
              </a>
            </div>
            <div>
              <button @click="open = true" type="button" class="-mr-3 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900">
                <span class="sr-only">Open sidebar</span>
                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              </button>
            </div>
          </div>
        </div>
        <div class="flex-1 relative z-0 flex overflow-hidden">
          <main class="flex-1 relative z-0 overflow-y-auto focus:outline-none xl:order-last" tabindex="0">
            <!-- Start main area-->
            <div class="absolute inset-0 py-4">
              <div class="h-full">
                <div class="pb-4 px-4 border-b border-gray-100 sm:flex sm:items-center sm:justify-between">
                  <div>
                    <div class="flex items-center">
                      <h3 class="text-lg leading-6 font-bold text-gray-900">
                        {{ title }}
                      </h3>
                      <span class="{{ audit }} h-5 py-1">
                        <div class="mt-0.5">{{ audit }}</div>
                      </span>
                    </div>

                    {% if date %}
                    <p class="mt-1 font-mono max-w-4xl text-xs text-gray-500">
                      <time datetime="{{ date }}">{{ date.toUTCString() }}</time>
                    </p>
                    {% endif %}
                  </div>

                  <div class="mt-3 sm:mt-0 sm:ml-4">
                    <button type="button" class="inline-flex items-center border-2 px-5 py-3 border-gray-200 rounded-md text-sm text-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cobalt-500">
                      Edit
                    </button>
                  </div>


                  {# {% if audit == 'Rejected' %}
                    <div class="mt-3 sm:mt-0 sm:ml-4">
                      <button type="button" class="inline-flex items-center border-2 px-5 py-3 border-gray-200 rounded-md text-sm text-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cobalt-500">
                        Edit
                      </button>
                    </div>
                  {% endif %} #}
                </div>

                <div class="grid grid-cols-3 gap-1">
                  <div class="col-span-2">
                    <h3 class="m-4 font-bold">Image</h3>
                    <div class="relative flex items-center justify-center">
                      <div class="w-full bg-gray-200">
                        {% block content %}
                          {{ content | safe }}
                        {% endblock %}
                      </div>
                      <img class="absolute w-100 h-100 object-cover" src="/src/images/envelope-overlay.svg" alt="">
                    </div>
                  </div>
                  <div>
                    <div class="mt-4 mx-2 flex justify-between items-center">
                      <h3 class="font-bold">Results</h3>
                      <h6 class="text-xs text-gray-500 font-mono font-bold uppercase">accuracy</h6>
                    </div>
                    <div class="space-y-6 pt-4 px-2">
                      <div class="">
                        <div class="flex justify-between">
                          <label for="company_website" class="inline-flex px-1 bg-mustard-500 block font-mono uppercase text-xs text-black">
                            IBM Code
                          </label>
                          <label for="company_website" class="inline-flex px-1 bg-black block font-mono uppercase text-xs text-white">
                            1.0
                          </label>
                        </div>
                        <div class="mt-1 flex rounded-md">
                          <input type="text" class="focus:ring-indigo-500 px-2 py-2 bg-gray-100 focus:border-indigo-500 flex-1 block w-full  sm:text-sm border-gray-300"
                            value="{{ ibmcode }}"
                          >
                        </div>
                      </div>
                      <div class="">
                        <div class="flex justify-between">
                          <label for="company_website" class="inline-flex px-1 bg-cobalt-500 block font-mono uppercase text-xs text-white">
                            Sender name
                          </label>
                          <label for="company_website" class="inline-flex px-1 bg-black block font-mono uppercase text-xs text-white">
                            0.95
                          </label>
                        </div>
                        <div class="mt-1 flex rounded-md">
                          <input type="text" class="focus:ring-indigo-500 px-2 py-2 bg-gray-100 focus:border-indigo-500 flex-1 block w-full  sm:text-sm border-gray-300"
                            value="{{ sendername }}"
                          >
                        </div>
                      </div>
                      <div class="">
                        <div class="flex justify-between">
                          <label for="company_website" class="inline-flex px-1 bg-cobalt-500 block font-mono uppercase text-xs text-white">
                            Sender address
                          </label>
                          <label for="company_website" class="inline-flex px-1 bg-black block font-mono uppercase text-xs text-white">
                            0.80
                          </label>
                        </div>
                        <div class="mt-1 flex rounded-md">
                          <input type="text" class="focus:ring-indigo-500 px-2 py-2 bg-gray-100 focus:border-indigo-500 flex-1 block w-full  sm:text-sm border-gray-300"
                            value="{{ senderaddress }}"
                          >
                        </div>
                      </div>
                      <div class="">
                        <div class="flex justify-between">
                          <label for="company_website" class="inline-flex px-1 bg-orange-500 block font-mono uppercase text-xs text-white">
                            RECIPIENT address
                          </label>
                          <label for="company_website" class="inline-flex px-1 bg-black block font-mono uppercase text-xs text-white">
                            0.95
                          </label>
                        </div>
                        <div class="mt-1 flex rounded-md">
                          <input type="text" class="focus:ring-indigo-500 px-2 py-2 bg-gray-100 focus:border-indigo-500 flex-1 block w-full  sm:text-sm border-gray-300"
                            value="{{ recipientaddress }}"
                          >
                        </div>
                      </div>
                      <div class="">
                        <div class="flex justify-between">
                          <label for="company_website" class="inline-flex px-1 bg-orange-500 block font-mono uppercase text-xs text-white">
                            RECIPIENT name
                          </label>
                          <label for="company_website" class="inline-flex px-1 bg-black block font-mono uppercase text-xs text-white">
                            0.95
                          </label>
                        </div>
                        <div class="mt-1 flex rounded-md">
                          <input type="text" class="focus:ring-indigo-500 px-2 py-2 bg-gray-100 focus:border-indigo-500 flex-1 block w-full  sm:text-sm border-gray-300"
                            value="{{ recipientname }}"
                          >
                        </div>
                    </div>
                  </div>
                </div>

                {% set nextTask = collections.task | getNextCollectionItem(page) %}
                {% if nextTask %}<p><a class="p-4" href="{{ nextTask.url }}"></a></p>{% endif %}

              </div>
            </div>
            <!-- End main area -->
          </main>
          <aside class="hidden sm:block relative order-first xl:flex xl:flex-col flex-shrink-0 w-88 border-r border-gray-100">
            <div class="h-full">
              <div class="bg-white overflow-hidden">

                <div class="flex justify-between items-center p-4 border-b border-gray-100">
                  <h2>Tasks</h2>
                  <div>
                    <div class="sm:hidden">
                      <label for="tabs" class="sr-only">Select a tab</label>
                      <select id="tabs" name="tabs" class="block w-full focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md">
                        <option>Queued</option>
                        <option selected>Completed</option>
                      </select>
                    </div>
                    <div class="hidden sm:block">
                      <nav class="flex space-x-1 p-1 bg-gray-100 inline-flex rounded-md" aria-label="Tabs">
                        <a href="#" class="text-gray-500 bg-gray-100 hover:text-gray-700 px-3 py-2 font-medium text-sm rounded-md">
                          Queued
                        </a>
                        <!-- Current: "bg-indigo-100 text-indigo-700", Default: "text-gray-500 hover:text-gray-700" -->
                        <a href="#" class="bg-cobalt-700 text-cobalt-100 px-3 py-2 font-medium text-sm rounded-md" aria-current="page">
                          Completed
                        </a>
                      </nav>
                    </div>
                  </div>
                </div>

                <ul class="divide-y divide-gray-100">
                {%- for task in collections.task | reverse -%}
                  <li {% if page.url == task.url %} class="bg-cobalt-50 hover:bg-cobalt-50"{% endif %}>
                    <a href="{{ task.url }}" class="block hover:bg-gray-50">
                      <div class="px-4 py-3 sm:px-4">
                        <div class="flex items-center justify-between">
                          <p class="text-sm font-medium text-black truncate {% if page.url == task.url %}text-cobalt-500{% endif %}">
                            {{ task.data.title }}
                          </p>
                          <div class="ml-2 flex-shrink-0 flex">
                            <span class="{{ task.data.audit }}">
                              <div class="mt-0.5">{{ task.data.audit }}</div>
                            </span>
                          </div>
                        </div>
                        <div class="mt-1 sm:flex sm:justify-between">
                          <div class="sm:flex">
                            {% if date %}
                            <p class="flex font-mono items-center text-xs text-gray-500">
                              <time datetime="{{ date }}">{{ task.date.toUTCString() }}</time>
                            </p>
                            {% endif %}
                          </div>
                        </div>
                      </div>
                    </a>
                  </li>
                {%- endfor -%}
                </ul>
              </div>
            </div>
            <!-- End secondary column -->
          </aside>
        </div>
      </div>

    </div>
  </body>
</html>
